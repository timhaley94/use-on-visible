{"version":3,"sources":["App.module.css","../../src/index.js","App.js","index.js"],"names":["module","exports","isVisible","el","top","bottom","left","right","window","elRef","cb","deps","Array","Error","useState","state","setState","useEffect","firing","handle","useOnScroll","useCallback","App","ref","useRef","count","setCount","useOnVisible","className","styles","container","scrollable","emoji","role","aria-label","countContainer","ReactDOM","render","document","getElementById"],"mappings":"yHACAA,EAAOC,QAAU,CAAC,UAAY,uBAAuB,WAAa,wBAAwB,MAAQ,mBAAmB,eAAiB,4BAA4B,MAAQ,qB,uFCC1K,SAASC,EAAUC,GAAI,MACgBA,EADhB,wBACbC,EADa,MACRC,EADQ,SACAC,EADA,OACMC,EADN,QAGrB,SAAKC,OAAD,cAAwBA,OAA5B,cAKEJ,MACAE,GADAF,GAEAC,GAAUG,OAFVJ,aAGAG,GAASC,OAJX,Y,MA+BF,SAAsBC,EAAOC,EAAIC,GAC/B,IAAKC,cAAL,GACE,MAAM,IAAIC,MAAV,6CAFmC,MAKXC,oBALW,GAK9BC,EAL8B,KAKvBC,EALuB,MAvBvC,SAAqBN,GACnBO,qBAAU,WACR,IAAIC,GAAJ,EAEMC,EAAS,WACb,IAEEX,8BAA6B,WAC3BU,KACAR,OAGFQ,OAOJ,OAFAC,IACAX,oCACO,kBAAMA,oCAAN,MACN,CAnBHS,IAyCAG,CAbeC,uBAAY,WACzB,IAAMlB,EAAKM,EAAX,QAEA,KACOM,GAASb,EAAd,IACEc,MACAN,KACSK,IAAUb,EAAd,IACLc,SARoB,eAA1B,M,gBCQaM,EAlDH,WACV,IAAMC,EAAMC,iBAAO,MADH,EAEUV,mBAAS,GAFnB,mBAETW,EAFS,KAEFC,EAFE,KAUhB,OANAC,EACEJ,GACA,kBAAMG,EAASD,EAAQ,KACvB,CAACA,EAAOC,IAIR,yBAAKE,UAAYC,IAAOC,WACtB,yBAAKF,UAAYC,IAAOE,YACtB,4BACE,0BACEH,UAAYC,IAAOG,MACnBC,KAAK,MACLC,aAAW,QAHb,gBAOE,IARJ,aAUI,IACF,0BACEN,UAAYC,IAAOG,MACnBC,KAAK,MACLC,aAAW,QAHb,iBAQF,yBAAKN,UAAYC,IAAOM,gBACtB,uBAAGP,UAAYC,IAAOJ,OAAtB,gCACiCA,EADjC,WAGA,0BACEG,UAAYC,IAAOG,MACnBC,KAAK,MACLC,aAAW,OACXX,IAAMA,GAJR,oBClCVa,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.d0468bcc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__1MQN3\",\"scrollable\":\"App_scrollable__2dzZb\",\"emoji\":\"App_emoji__Vcubs\",\"countContainer\":\"App_countContainer__1enMb\",\"count\":\"App_count__2PmCJ\"};","import { useCallback, useEffect, useState } from 'react';\n\nfunction isVisible(el) {\n  const { top, bottom, left, right } = el.getBoundingClientRect();\n\n  if (!window.innerHeight || !window.innerWidth) {\n    return false;\n  }\n\n  return (\n    top >= 0 &&\n    left >= 0 &&\n    bottom <= window.innerHeight &&\n    right <= window.innerWidth\n  );\n}\n\nfunction useOnScroll(cb) {\n  useEffect(() => {\n    let firing = false;\n\n    const handle = () => {\n      if (!firing) {\n        // requestAnimationFrame trottles this callback.\n        window.requestAnimationFrame(() => {\n          firing = false;\n          cb();\n        });\n\n        firing = true;\n      }\n    };\n\n    // Call handle once when listener is registered.\n    handle();\n    window.addEventListener('scroll', handle);\n    return () => window.removeEventListener('scroll', handle);\n  }, [cb]);\n}\n\nfunction useOnVisible(elRef, cb, deps) {\n  if (!Array.isArray(deps)) {\n    throw new Error('dependencies are required by useOnVisible');\n  }\n\n  const [state, setState] = useState(false);\n  const handle = useCallback(() => {\n    const el = elRef.current;\n\n    if (el) {\n      if (!state && isVisible(el)) {\n        setState(true);\n        cb();\n      } else if (state && !isVisible(el)) {\n        setState(false);\n      }\n    }\n  }, [elRef, state, setState, ...deps]);\n\n  useOnScroll(handle);\n}\n\nexport default useOnVisible;\n","import React, { useState, useRef } from 'react';\nimport useOnVisible from 'use-on-visible';\nimport styles from './App.module.css';\n\nconst App = () => {\n  const ref = useRef(null);\n  const [count, setCount] = useState(0);\n\n  useOnVisible(\n    ref,\n    () => setCount(count + 1),\n    [count, setCount],\n  );\n\n  return (\n    <div className={ styles.container }>\n      <div className={ styles.scrollable }>\n        <h1>\n          <span\n            className={ styles.emoji }\n            role=\"img\"\n            aria-label=\"eyes\"\n          >\n            ‚¨áÔ∏è\n          </span>\n          { ' ' }\n          Scroll me!\n          { ' ' }\n          <span\n            className={ styles.emoji }\n            role=\"img\"\n            aria-label=\"eyes\"\n          >\n            ‚¨áÔ∏è\n          </span>\n        </h1>\n        <div className={ styles.countContainer }>\n          <p className={ styles.count }>\n            The eyes have become visible { count } times!\n          </p>\n          <span\n            className={ styles.emoji }\n            role=\"img\"\n            aria-label=\"eyes\"\n            ref={ ref }\n          >\n            üëÄ\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n};\n\nexport default App;\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}